<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<report id="report_session" model="openacademy.session" string="Session Report" name="openacademy.report_session_view" file="openacademy.report_session" report_type="qweb-pdf"/>

		<template id="report_session_view">
			<t t-call="report.html_container">
				<t t-foreach="docs" t-as="doc">
					<!--<t t-call="report.external_layout">-->
						<div class="page">
							<h2 t-field="doc.name"/>
							<p> Instructor: <span t-field="doc.instructor_id"/> </p>
							<p> Phone: <span t-field="doc.instructor_id.phone"/> </p>
							<p>From <span t-field="doc.start_date"/> to <span t-field="doc.end_date"/></p>
							<h3>Attendees:</h3>
							<ul>
								<t t-foreach="doc.attendee_ids" t-as="attendee">
									<li><span t-field="attendee.name"/></li>
								</t>
							</ul>
							<t t-set="attendess_count" t-value="doc.run_sql('SELECT name FROM openacademy_session WHERE id IN (%s)')"/>
							<p > Attendees Count: <span t-esc="attendess_count" /> </p>
							<t t-set="attendess_count1" t-value="doc.run_sql1()"/>
							<p > Attendees Count1: <span t-esc="attendess_count1" /> </p>
							<t t-set="attendess_count2" t-value="doc.run_sql2()"/>
							<p > Attendees Count2: <span t-esc="attendess_count2" /> </p>
						</div>
					<!--</t>-->
				</t>
			</t>
		</template>
	</data>
</openerp>
